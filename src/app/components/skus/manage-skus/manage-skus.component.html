<div class="container-fluid" *ngIf="loaded">
    <div class="card">
        <div class="row product-page-main card-body">
            <div class="col-xl-12">
                <ul class="nav nav-tabs">
                    <li class="nav-item">
                        <a href="#brands" [ngClass]="{ 'active':activeTab==='brands'}" class="nav-link active"
                            data-toggle="tab">Brands</a>
                    </li>
                    <li class="nav-item">
                        <a href="#types" [ngClass]="{ 'active':activeTab==='types'}" class="nav-link"
                            data-toggle="tab">Types</a>
                    </li>
                    <li class="nav-item">
                        <a href="#departments" [ngClass]="{ 'active':activeTab==='departments'}" class="nav-link"
                            data-toggle="tab">Departments</a>
                    </li>
                    <li class="nav-item">
                        <a href="#sizes" [ngClass]="{ 'active':activeTab==='sizes'}" class="nav-link"
                            data-toggle="tab">Sizes</a>
                    </li>
                    <li class="nav-item">
                        <a href="#variants" [ngClass]="{ 'active':activeTab==='variants'}" class="nav-link"
                            data-toggle="tab">Variants</a>
                    </li>
                    <li class="nav-item">
                        <a href="#groups" [ngClass]="{ 'active':activeTab==='groups'}" class="nav-link"
                            data-toggle="tab">Groups</a>
                    </li>
                </ul>
            </div>

            <div class="tab-content">
                <div class="add-product-form tab-pane fade show active" style="text-align: center;" id="brands">
                    <table class="row-border hover" datatable [dtOptions]="dtOptions">
                        <thead>
                            <tr>
                                <th width="10%">#</th>
                                <th width="20%">Id</th>
                                <th width="20%">Name</th>
                                <th width="20%">SKU Shortcode</th>
                                <th width="10%">Display</th>
                                <th width="20%">Links</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor=" let brand of brands; let i=index">
                                <td>{{i + 1}}</td>
                                <td>{{ brand._id }}</td>
                                <td>{{ brand.name }}</td>
                                <td>{{ brand.sku_shortcode }}</td>
                                <td>{{ brand.display}}</td>
                                <td style="min-width: 100px;">
                                    <img src="assets/images/icons/view-gray.png"
                                        onmouseover="this.src='assets/images/icons/view-blue.png';"
                                        onmouseout="this.src='assets/images/icons/view-gray.png';"
                                        href="javascript:void(0)" class="link-icon" (click)="viewBrand(brand._id)">
                                    <img src="assets/images/icons/edit-gray.png"
                                        onmouseover="this.src='assets/images/icons/edit-blue.png';"
                                        onmouseout="this.src='assets/images/icons/edit-gray.png';"
                                        href="javascript:void(0)" class="link-icon" (click)="editBrand(brand._id)">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <ng-template #brandcontent let-modal>
                        <div class="modal-header">
                            <h4 class="modal-title" id="modal-basic-title">Add Brand</h4>
                            <button type="button" class="close" aria-label="Close"
                                (click)="modal.dismiss('Cross click')">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form #fbrand="ngForm">
                                <div class="form-group">
                                    <label for="brandname">Brand Name</label>
                                    <div class="input-group">
                                        <input id="brandname" class="form-control" placeholder="Brand Name" name="name"
                                            type="text" required="" ngModel>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="brandskushortcode">SKU Shortcode</label>
                                    <div class="input-group">
                                        <input id="brandskushortcode" class="form-control" placeholder="SKU Shortcode"
                                            name="sku_shortcode" ngModel required="" type="text">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="branddisplay">Display</label>
                                    <div class="input-group">
                                        <select class="form-control" id="branddisplay" required="" ngModel
                                            name="display">
                                            <option value="" disabled select>Display</option>
                                            <option value="{{true}}"> True</option>
                                            <option value="{{false}}"> False</option>
                                        </select>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-outline-dark"
                                (click)="modal.close('Create Brand');createBrand(fbrand.value)"
                                [disabled]="!fbrand.valid">Create</button>
                        </div>
                    </ng-template>
                    <button class=" btn btn-lg btn-outline-primary float-right" (click)="open(brandcontent)">Create New
                        Brand</button>
                </div>
                <div class="add-product-form tab-pane fade" style="text-align: center;" id="types">
                    <table class="row-border hover" datatable [dtOptions]="dtOptions">
                        <thead>
                            <tr>
                                <th width="10%">#</th>
                                <th width="20%">Id</th>
                                <th width="20%">Name</th>
                                <th width="20%">SKU Shortcode</th>
                                <th width="10%">Display</th>
                                <th width="20%">Links</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor=" let type of types; let i=index">
                                <td>{{i + 1}}</td>
                                <td>{{ type._id }}</td>
                                <td>{{ type.name }}</td>
                                <td>{{ type.sku_shortcode }}</td>
                                <td>{{ type.display }}</td>
                                <td style="min-width: 100px;">
                                    <img src="assets/images/icons/view-gray.png"
                                        onmouseover="this.src='assets/images/icons/view-blue.png';"
                                        onmouseout="this.src='assets/images/icons/view-gray.png';"
                                        href="javascript:void(0)" class="link-icon" (click)="viewType(type._id)">
                                    <img src="assets/images/icons/edit-gray.png"
                                        onmouseover="this.src='assets/images/icons/edit-blue.png';"
                                        onmouseout="this.src='assets/images/icons/edit-gray.png';"
                                        href="javascript:void(0)" class="link-icon" (click)="editType(type._id)">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <ng-template #typecontent let-modal>
                        <div class="modal-header">
                            <h4 class="modal-title">Add Type</h4>
                            <button type="button" class="close" aria-label="Close"
                                (click)="modal.dismiss('Cross click')">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form #ftype="ngForm">
                                <div class="form-group">
                                    <label for="typename">Type Name</label>
                                    <div class="input-group">
                                        <input id="typename" class="form-control" placeholder="Type Name" name="name"
                                            type="text" required="" ngModel>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="typeskushortcode">SKU Shortcode</label>
                                    <div class="input-group">
                                        <input id="typeskushortcode" class="form-control" placeholder="SKU Shortcode"
                                            name="sku_shortcode" ngModel required="" type="text">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="typedisplay">Display</label>
                                    <div class="input-group">
                                        <select class="form-control" id="typedisplay" required="" ngModel
                                            name="display">
                                            <option value="" disabled select>Display</option>
                                            <option value="{{true}}"> True</option>
                                            <option value="{{false}}"> False</option>
                                        </select>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-outline-dark"
                                (click)="modal.close('Create Type');createType(ftype.value)"
                                [disabled]="!ftype.valid">Create</button>
                        </div>
                    </ng-template>
                    <button class=" btn btn-lg btn-outline-primary float-right" (click)="open(typecontent)">Create
                        New
                        Type</button>
                </div>
                <div class="add-product-form tab-pane fade show" style="text-align: center;" id="departments">
                    <table class="row-border hover" datatable [dtOptions]="dtOptions">
                        <thead>
                            <tr>
                                <th width="10%">#</th>
                                <th width="15%">Id</th>
                                <th width="15%">Name</th>
                                <th width="15%">SKU Shortcode</th>
                                <th width="15%">Brand</th>
                                <th width="15%">Display</th>
                                <th width="15%">Links</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor=" let department of departments; let i=index">
                                <td>{{i + 1}}</td>
                                <td>{{ department._id }}</td>
                                <td>{{ department.name }}</td>
                                <td>{{ department.sku_shortcode }}</td>
                                <td>{{ department.brand != undefined ? department.brand.name : "None"}}</td>
                                <td>{{ department.display }}</td>
                                <td style="min-width: 100px;">
                                    <img src="assets/images/icons/view-gray.png"
                                        onmouseover="this.src='assets/images/icons/view-blue.png';"
                                        onmouseout="this.src='assets/images/icons/view-gray.png';"
                                        href="javascript:void(0)" class="link-icon"
                                        (click)="viewDepartment(department._id)">
                                    <img src="assets/images/icons/edit-gray.png"
                                        onmouseover="this.src='assets/images/icons/edit-blue.png';"
                                        onmouseout="this.src='assets/images/icons/edit-gray.png';"
                                        href="javascript:void(0)" class="link-icon"
                                        (click)="editDepartment(department._id)">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <ng-template #departmentcontent let-modal>
                        <div class="modal-header">
                            <h4 class="modal-title" id="modal-basic-title">Add Department</h4>
                            <button type="button" class="close" aria-label="Close"
                                (click)="modal.dismiss('Cross click')">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form #fdepartment="ngForm">
                                <div class="form-group">
                                    <label for="departmentname">Department Name</label>
                                    <div class="input-group">
                                        <input id="departmentname" class="form-control" placeholder="Department Name"
                                            name="name" type="text" required="" ngModel>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="departmentskushortcode">SKU Shortcode</label>
                                    <div class="input-group">
                                        <input id="departmentskushortcode" class="form-control"
                                            placeholder="SKU Shortcode" name="sku_shortcode" ngModel required=""
                                            type="text">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="variantname">Department Brand</label>
                                    <div class="input-group">
                                        <select class="form-control" name="brand" ngModel title="Brand">
                                            <option value="" disabled select>Brand</option>
                                            <option value="">None</option>
                                            <option *ngFor="let brand of brands" value="{{brand._id}}">{{brand.name}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="departmentdisplay">Display</label>
                                    <div class="input-group">
                                        <select class="form-control" id="departmentdisplay" required="" ngModel
                                            name="display">
                                            <option value="" disabled select>Display</option>
                                            <option value="{{true}}"> True</option>
                                            <option value="{{false}}"> False</option>
                                        </select>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-outline-dark"
                                (click)="modal.close('Create Deparment');createDepartment(fdepartment.value)"
                                [disabled]="!fdepartment.valid">Create</button>
                        </div>
                    </ng-template>
                    <button class=" btn btn-lg btn-outline-primary float-right" (click)="open(departmentcontent)">Create
                        New
                        Department</button>
                </div>
                <div class="add-product-form tab-pane fade" style="text-align: center;" id="sizes">
                    <table class="row-border hover" datatable [dtOptions]="dtOptions">
                        <thead>
                            <tr>
                                <th width="10%">#</th>
                                <th width="25%">Id</th>
                                <th width="25%">Name</th>
                                <th width="20%">SKU Shortcode</th>
                                <th width="20%">Links</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor=" let size of sizes; let i=index">
                                <td>{{i + 1}}</td>
                                <td>{{ size._id }}</td>
                                <td>{{ size.name }}</td>
                                <td>{{ size.sku_shortcode }}</td>
                                <td style="min-width: 100px;">
                                    <img src="assets/images/icons/view-gray.png"
                                        onmouseover="this.src='assets/images/icons/view-blue.png';"
                                        onmouseout="this.src='assets/images/icons/view-gray.png';"
                                        href="javascript:void(0)" class="link-icon" (click)="viewSize(size._id)">
                                    <img src="assets/images/icons/edit-gray.png"
                                        onmouseover="this.src='assets/images/icons/edit-blue.png';"
                                        onmouseout="this.src='assets/images/icons/edit-gray.png';"
                                        href="javascript:void(0)" class="link-icon" (click)="editSize(size._id)">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <ng-template #sizecontent let-modal>
                        <div class="modal-header">
                            <h4 class="modal-title">Add Size</h4>
                            <button type="button" class="close" aria-label="Close"
                                (click)="modal.dismiss('Cross click')">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form #fsize="ngForm">
                                <div class="form-group">
                                    <label for="sizename">Size Name</label>
                                    <div class="input-group">
                                        <input id="sizename" class="form-control" placeholder="Size Name" name="name"
                                            type="text" required="" ngModel>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="sizeskushortcode">SKU Shortcode</label>
                                    <div class="input-group">
                                        <input id="sizeskushortcode" class="form-control" placeholder="SKU Shortcode"
                                            name="sku_shortcode" ngModel required="" type="text">
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="#" class="btn btn-outline-dark"
                                (click)="modal.close('Create Size');createSize(fsize.value)"
                                [disabled]="!fsize.valid">Create</button>
                        </div>
                    </ng-template>
                    <button class=" btn btn-lg btn-outline-primary float-right" (click)="open(sizecontent)">Create New
                        Size</button>
                </div>
                <div class="add-product-form tab-pane fade" style="text-align: center;" id="variants">
                    <table class="row-border hover" datatable [dtOptions]="dtOptions">
                        <thead>
                            <tr>
                                <th width="10%">#</th>
                                <th width="10%">Image</th>
                                <th width="15%">Id</th>
                                <th width="15%">Name</th>
                                <th width="10%">SKU Shortcode</th>
                                <th width="10%">Display</th>
                                <th width="15%">Links</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor=" let variant of variants; let i=index">
                                <td>{{i + 1}}</td>
                                <td><img class="variant-color" [src]="variant.image"></td>
                                <td>{{ variant._id }}</td>
                                <td>{{ variant.name }}</td>
                                <td>{{ variant.sku_shortcode }}</td>
                                <td>{{ variant.display }}</td>
                                <td style="min-width: 100px;">
                                    <img src="assets/images/icons/view-gray.png"
                                        onmouseover="this.src='assets/images/icons/view-blue.png';"
                                        onmouseout="this.src='assets/images/icons/view-gray.png';"
                                        href="javascript:void(0)" class="link-icon" (click)="viewVariant(variant._id)">
                                    <img src="assets/images/icons/edit-gray.png"
                                        onmouseover="this.src='assets/images/icons/edit-blue.png';"
                                        onmouseout="this.src='assets/images/icons/edit-gray.png';"
                                        href="javascript:void(0)" class="link-icon" (click)="editVariant(variant._id)">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <ng-template #variantcontent let-modal>
                        <div class="modal-header">
                            <h4 class="modal-title">Add Variant</h4>
                            <button type="button" class="close" aria-label="Close"
                                (click)="modal.dismiss('Cross click')">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form #fvariant="ngForm">
                                <div class="form-group">
                                    <label for="variantname">Variant Name</label>
                                    <div class="input-group">
                                        <input id="variantname" class="form-control" placeholder="Variant Name"
                                            name="name" type="text" required="" ngModel>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="variantskushortcode">SKU Shortcode</label>
                                    <div class="input-group">
                                        <input id="variantskushortcode" class="form-control" placeholder="SKU Shortcode"
                                            name="sku_shortcode" ngModel required="" type="text">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="variantdisplay">Display</label>
                                    <div class="input-group">
                                        <select class="form-control" id="variantdisplay" required="" ngModel
                                            name="display">
                                            <option value="" disabled select>Display</option>
                                            <option value="{{true}}"> True</option>
                                            <option value="{{false}}"> False</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group img-with-text">
                                    <label for="sku_shortcode" class="image-label">Color Image
                                    </label>
                                    <img [src]="url.img" alt="" class="image">
                                    <input class="image-upload" type="file" (change)="readUrl($event)" required="" #img
                                        id="image" ngModel name="imageurl">
                                    <p class="image-message" *ngIf="imageError" style="color:red">{{imageMessage}}</p>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-outline-dark"
                                (click)="modal.close('Create Variant');createVariant(fvariant.value)"
                                [disabled]="!fvariant.valid || imageError">Create</button>
                        </div>
                    </ng-template>
                    <button class=" btn btn-lg btn-outline-primary float-right" (click)="open(variantcontent)">Create
                        New
                        Variant</button>
                </div>
                <div class="add-product-form tab-pane fade" style="text-align: center;" id="groups">
                    <table class="row-border hover" datatable [dtOptions]="dtOptions">
                        <thead>
                            <tr>
                                <th width="10%">#</th>
                                <th width="20%">Id</th>
                                <th width="20%">Name</th>
                                <th width="20%">SKU Shortcode</th>
                                <th width="10%">Display</th>
                                <th width="20%">Links</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor=" let group of groups; let i=index">
                                <td>{{i + 1}}</td>
                                <td>{{ group._id }}</td>
                                <td>{{ group.name }}</td>
                                <td>{{ group.sku_shortcode }}</td>
                                <td>{{ group.display }}</td>
                                <td style="min-width: 100px;">
                                    <img src="assets/images/icons/view-gray.png"
                                        onmouseover="this.src='assets/images/icons/view-blue.png';"
                                        onmouseout="this.src='assets/images/icons/view-gray.png';"
                                        href="javascript:void(0)" class="link-icon" (click)="viewGroup(group._id)">
                                    <img src="assets/images/icons/edit-gray.png"
                                        onmouseover="this.src='assets/images/icons/edit-blue.png';"
                                        onmouseout="this.src='assets/images/icons/edit-gray.png';"
                                        href="javascript:void(0)" class="link-icon" (click)="editGroup(group._id)">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <ng-template #groupcontent let-modal>
                        <div class="modal-header">
                            <h4 class="modal-title">Add Group</h4>
                            <button type="button" class="close" aria-label="Close"
                                (click)="modal.dismiss('Cross click')">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form #fgroup="ngForm">
                                <div class="form-group">
                                    <label for="groupname">Group Name</label>
                                    <div class="input-group">
                                        <input id="groupname" class="form-control" placeholder="Group Name" name="name"
                                            type="text" required="" ngModel>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="groupskushortcode">SKU Shortcode</label>
                                    <div class="input-group">
                                        <input id="groupskushortcode" class="form-control" placeholder="SKU Shortcode"
                                            name="sku_shortcode" type="text" required="" ngModel>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="groupdisplay">Display</label>
                                    <div class="input-group">
                                        <select class="form-control" id="groupdisplay" required="" ngModel
                                            name="display">
                                            <option value="" disabled select>Display</option>
                                            <option value="{{true}}"> True</option>
                                            <option value="{{false}}"> False</option>
                                        </select>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-outline-dark"
                                (click)="modal.close('Create Size');createGroup(fgroup.value)"
                                [disabled]="!fgroup.valid">Create</button>
                        </div>
                    </ng-template>
                    <button class=" btn btn-lg btn-outline-primary float-right" (click)="open(groupcontent)">Create New
                        Group</button>
                </div>
            </div>
        </div>
    </div>
</div>