<div class="container-fluid" *ngIf="variantLoaded">
    <div class="card">
        <div class="card-body">
            <form (ngSubmit)="onSubmit(f.value)" #f="ngForm">
                <div class="col-xl-12">
                    <div class="form-group row">
                        <label for="name" class="">Name
                            :</label>
                        <input class="form-control" id="name" type="text" required="" [(ngModel)]="variant.name"
                            name="name">
                    </div>
                    <div class="form-group row">
                        <label for="sku_shortcode" class="">SKU Shortcode
                            :</label>
                        <input class="form-control" id="sku_shortcode" type="text" required=""
                            [(ngModel)]="variant.sku_shortcode" name="sku_shortcode">
                    </div>
                    <div class="form-group row">
                        <label for="display">Display</label>
                        <select class="form-control" name="display" required="" [(ngModel)]="variant.display"
                            title="Display">
                            <option value="" disabled select>Display</option>
                            <option value="{{true}}"> True</option>
                            <option value="{{false}}"> False</option>
                        </select>
                    </div>
                    <div class="form-group row img-with-text">
                        <label for="sku_shortcode" class="image-label">Color Image
                            :</label>
                        <img [src]="url.img" alt="" class="image">
                        <input class="image-upload" type="file" (change)="readUrl($event)" required="" #img id="image"
                            ngModel name="imageurl">
                        <p class="image-message" *ngIf="imageError">{{imageMessage}}</p>
                    </div>
                </div>
                <div class="m-t-15">
                    <button class="btn btn-primary m-r-10 save-button" type="submit"> Save </button>
                    <button class="btn btn-outline-dark m-r-10 save-button" type="button"
                        (click)="cancel()">Cancel</button>
                </div>
            </form>
        </div>
    </div>
    <h3 *ngIf="products.length > 0">Products</h3>
    <div class="card product_cards">
        <div class="row products-admin ratio_asos">
            <div class="col-xl-3 col-sm-6" *ngFor="let product of products">
                &nbsp;
                <div class="card">
                    <div class="card-body product-box">
                        <div class="img-wrapper">
                            <div class="lable-block"><span class="lable3" *ngIf="product.tag == 'new'">new</span> <span
                                    class="lable4" *ngIf="product.sale == 'on sale'">on sale</span></div>
                            <div class="front">
                                <a href="javascript:void(0)"><img [src]="product.image.src"
                                        class="img-fluid blur-up lazyload bg-img" alt=""></a>
                                <div class="product-hover">
                                    <ul>
                                        <li>
                                            <button class="btn" type="button" data-original-title="" title=""><i
                                                    class="icon-pencil-alt"
                                                    routerLink="/products/product-detail/{{product._id}}"></i></button>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="product-detail">
                            <div class="product-title">
                                <a href="javascript:void(0)">
                                    <h6>{{product.title}}</h6>
                                </a>
                            </div>
                            <div class="product-price">
                                <h4 *ngIf="product.sale; else regularprice">${{(product.price -
                                    product.discount).toFixed(2)}}
                                    <del>${{product.price}}</del>
                                </h4>
                                <ng-template #regularprice>
                                    <h4>${{product.price}}</h4>
                                </ng-template>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <h3 *ngIf="products.length > 0">Products</h3>
    <div class="card product_cards">
        <div class="row products-admin ratio_asos">
            <div class="col-xl-3 col-sm-6" *ngFor="let product of products">
                &nbsp;
                <div class="card">
                    <div class="card-body product-box">
                        <div class="img-wrapper">
                            <div class="lable-block"><span class="lable3" *ngIf="product.tag == 'new'">new</span> <span
                                    class="lable4" *ngIf="product.sale == 'on sale'">on sale</span></div>
                            <div class="front">
                                <a href="javascript:void(0)"><img [src]="product.image.src"
                                        class="img-fluid blur-up lazyload bg-img" alt=""></a>
                                <div class="product-hover">
                                    <ul>
                                        <li>
                                            <button class="btn" type="button" data-original-title="" title=""><i
                                                    class="icon-pencil-alt"
                                                    routerLink="/products/product-detail/{{product._id}}"></i></button>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="product-detail">
                            <div class="product-title">
                                <a href="javascript:void(0)">
                                    <h6>{{product.title}}</h6>
                                </a>
                            </div>
                            <div class="product-price">
                                <h4 *ngIf="product.sale; else regularprice">${{(product.price -
                                    product.discount).toFixed(2)}}
                                    <del>${{product.price}}</del>
                                </h4>
                                <ng-template #regularprice>
                                    <h4>${{product.price}}</h4>
                                </ng-template>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>